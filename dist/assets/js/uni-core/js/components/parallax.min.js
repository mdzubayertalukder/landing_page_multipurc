/*! UniCore 3.19.1 | https://www.unistudio.co | (c) 2023 - 2024 UniStudio | MIT License */!function(t,e){"object"==typeof exports&&typeof module<"u"?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitparallax",["uikit-util"],e):(t=typeof globalThis<"u"?globalThis:t||self).UniCoreParallax=e(t.UniCore.util)}(this,(function(t){"use strict";function e(e,n="update"){e._connected&&e._updates.length&&(e._queued||(e._queued=new Set,t.fastdom.read((()=>{e._connected&&function(e,n){for(const{read:r,write:o,events:i=[]}of e._updates){if(!n.has("update")&&!i.some((t=>n.has(t))))continue;let s;r&&(s=r.call(e,e._data,n),s&&t.isPlainObject(s)&&t.assign(e._data,s)),o&&!1!==s&&t.fastdom.write((()=>{e._connected&&o.call(e,e._data,n)}))}}(e,e._queued),delete e._queued}))),e._queued.add(n.type||n))}function n(t,n,r){return{observe:t,handler(){e(this,r)},...n}}function r(e){return t.toNodes(e).map((e=>{const{ownerDocument:n}=e,r=t.scrollParent(e,!0);return r===n.scrollingElement?n:r}))}var o={props:{media:Boolean,mediaMax:Boolean},data:{media:!1,mediaMax:!1},connected(){const e=i(this.media,this.$el),n=i(this.mediaMax,this.$el,"max");if(this.matchMedia=!0,e||n){const r=e?n?e+" and "+n:e:n;this.mediaObj=window.matchMedia(r);const o=()=>{this.matchMedia=this.mediaObj.matches,t.trigger(this.$el,t.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=t.on(this.mediaObj,"change",(()=>{o(),this.$emit("resize")})),o()}},disconnected(){var t;null==(t=this.offMediaObj)||t.call(this)}};function i(e,n,r="min"){if(t.isString(e))if(t.startsWith(e,"@"))e=t.toFloat(t.css(n,`--uc-breakpoint-${e.substr(1)}`));else if(isNaN(e))return e;return e&&t.isNumeric(e)?`(${r}-width: ${e}px)`:""}const{isArray:s,from:c}=Array;function u(t){return"function"==typeof t}function a(t){return null!==t&&"object"==typeof t}function l(t){return f(t)>=1}function f(t){return!function(t){return a(t)&&t===t.window}(t)&&a(t)&&t.nodeType}function h(t){return"string"==typeof t}function d(t){return p(t)[0]}function p(t){return l(t)?[t]:Array.from(t||[]).filter(l)}function g(t){const e=Object.create(null);return(n,...r)=>e[n]||(e[n]=t(n,...r))}function m(t,e,n){var r;if(a(e))for(const n in e)m(t,n,e[n]);else{if(function(t){return void 0===t}(n))return null==(r=d(t))?void 0:r.getAttribute(e);for(const r of p(t))u(n)&&(n=n.call(r,m(r,e))),null===n?b(r,e):r.setAttribute(e,n)}}function b(t,e){p(t).forEach((t=>t.removeAttribute(e)))}function $(t){var e;return null==(e=d(t))?void 0:e.parentElement}function x(t,e){return p(t).some((t=>t.matches(e)))}function v(t,e){const n=(t=d(t))?c(t.children):[];return e?function(t,e){return p(t).filter((t=>x(t,e)))}(n,e):n}function y(t,e){return e?p(t).indexOf(d(e)):v($(t)).indexOf(t)}function w(t,e){return p(function(t,e=document,n){if(!t||!h(t))return t;if(t=O(t),k(t)){const n=_(t);t="";for(let r of n){let o=e;if("!"===r[0]){const t=r.substr(1).trim().split(" ");if(o=$(e).closest(t[0]),r=t.slice(1).join(" ").trim(),!r.length&&1===n.length)return o}if("-"===r[0]){const t=r.substr(1).trim().split(" "),n=(o||e).previousElementSibling;o=x(n,r.substr(1))?n:null,r=t.slice(1).join(" ")}o&&(t+=`${t?",":""}${C(o)} ${r}`)}(function(t){return 9===f(t)})(e)||(e=e.ownerDocument)}try{return e[n](t)}catch{return null}}(t,d(e),"querySelectorAll"))}const M=/(^|[^\\],)\s*[!>+~-]/,k=g((t=>t.match(M))),j=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,O=g((t=>t.replace(j,"$1 *")));const S=/.*?[^\\](?![^(]*\))(?:,|$)/g,_=g((t=>t.match(S).map((t=>t.replace(/,$/,"").trim()))));function C(t){const e=[];for(;t.parentNode;){const n=m(t,"id");if(n){e.unshift(`#${N(n)}`);break}{let{tagName:n}=t;"HTML"!==n&&(n+=`:nth-child(${y(t)+1})`),e.unshift(n),t=t.parentNode}}return e.join(" > ")}function N(t){return h(t)?CSS.escape(t):""}const F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function E(t,e){return function(t){return h(t)&&function(t,e){var n;return null==(n=null==t?void 0:t.startsWith)?void 0:n.call(t,e)}(t.trim(),"<")}(t)?p(function(t){const e=F.exec(t);if(e)return document.createElement(e[1]);const n=document.createElement("template");return n.innerHTML=t.trim(),function(t){return t.length>1?t:t[0]}(n.content.childNodes)}(t)):w(t,e)}const q={x:A,y:A,rotate:A,scale:A,color:T,backgroundColor:T,borderColor:T,blur:W,hue:W,fopacity:W,grayscale:W,invert:W,saturate:W,sepia:W,opacity:function(t,e,n){return 1===n.length&&n.unshift(K(e,t,"")),n=R(n),(e,r)=>{e[t]=V(n,r)}},stroke:function(e,n,r){1===r.length&&r.unshift(0);const o=J(r),i=function(t){return Math.ceil(Math.max(0,...E("[stroke]",t).map((t=>{try{return t.getTotalLength()}catch{return 0}}))))}(n);return(r=R(r.reverse(),(e=>(e=t.toFloat(e),"%"===o?e*i/100:e)))).some((([t])=>t))?(t.css(n,"strokeDasharray",i),(t,e)=>{t.strokeDashoffset=V(r,e)}):t.noop},bgx:D,bgy:D},{keys:z}=Object;var P={mixins:[o],props:Q(z(q),"list"),data:Q(z(q),void 0),computed:{props(e,n){const r={};for(const n in e)n in q&&!t.isUndefined(e[n])&&(r[n]=e[n].slice());const o={};for(const t in r)o[t]=q[t](t,n,r[t],r);return o}},events:{load(){this.$emit()}},methods:{reset(){for(const e in this.getCss(0))t.css(this.$el,e,"")},getCss(e){const n={};for(const r in this.props)this.props[r](n,t.clamp(e));return n.willChange=Object.keys(n).map(t.propName).join(","),n}}};function A(e,n,r){let o,i=J(r)||{x:"px",y:"px",rotate:"deg"}[e]||"";return"x"===e||"y"===e?(e=`translate${t.ucfirst(e)}`,o=e=>t.toFloat(t.toFloat(e).toFixed("px"===i?0:6))):"scale"===e&&(i="",o=e=>{var r;return J([e])?t.toPx(e,"width",n,!0)/n["offset"+(null!=(r=e.endsWith)&&r.call(e,"vh")?"Height":"Width")]:t.toFloat(e)}),1===r.length&&r.unshift("scale"===e?1:0),r=R(r,o),(t,n)=>{t.transform=`${t.transform||""} ${e}(${V(r,n)}${i})`}}function T(e,n,r){return 1===r.length&&r.unshift(K(n,e,"")),r=R(r,(e=>function(e,n){return K(e,"color",n).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}(n,e))),(n,o)=>{const[i,s,c]=B(r,o),u=i.map(((e,n)=>(e+=c*(s[n]-e),3===n?t.toFloat(e):parseInt(e,10)))).join(",");n[e]=`rgba(${u})`}}function W(t,e,n){1===n.length&&n.unshift(0);const r=J(n)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,n=R(n),(e,o)=>{const i=V(n,o);e.filter=`${e.filter||""} ${t}(${i+r})`}}function D(e,n,r,o){1===r.length&&r.unshift(0);const i="bgy"===e?"height":"width";o[e]=R(r,(e=>t.toPx(e,i,n)));const s=["bgx","bgy"].filter((t=>t in o));if(2===s.length&&"bgx"===e)return t.noop;if("cover"===K(n,"backgroundSize",""))return function(e,n,r,o){const i=function(e){const n=t.css(e,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(I[n])return I[n];const r=new Image;return n&&(r.src=n,!r.naturalWidth)?(r.onload=()=>{I[n]=L(r),t.trigger(e,t.createEvent("load",!1))},L(r)):I[n]=L(r)}(n);if(!i.width)return t.noop;const s={width:n.offsetWidth,height:n.offsetHeight},c=["bgx","bgy"].filter((t=>t in o)),u={};for(const t of c){const e=o[t].map((([t])=>t)),n=Math.min(...e),r=Math.max(...e),i=e.indexOf(n)<e.indexOf(r),c=r-n;u[t]=(i?-c:0)-(i?n:r)+"px",s["bgy"===t?"height":"width"]+=c}const a=t.Dimensions.cover(i,s);for(const t of c){const e="bgy"===t?"height":"width",r=a[e]-s[e];u[t]=`max(${H(n,t)},-${r}px) + ${u[t]}`}const l=U(c,u,o);return(t,e)=>{l(t,e),t.backgroundSize=`${a.width}px ${a.height}px`,t.backgroundRepeat="no-repeat"}}(0,n,0,o);const c={};for(const t of s)c[t]=H(n,t);return U(s,c,o)}function H(t,e){return K(t,`background-position-${e.substr(-1)}`,"")}function U(t,e,n){return function(r,o){for(const i of t){const t=V(n[i],o);r[`background-position-${i.substr(-1)}`]=`calc(${e[i]} + ${t}px)`}}}const I={};function L(t){return{width:t.naturalWidth,height:t.naturalHeight}}function R(e,n=t.toFloat){const r=[],{length:o}=e;let i=0;for(let s=0;s<o;s++){let[c,u]=t.isString(e[s])?e[s].trim().split(/ (?![^(]*\))/):[e[s]];if(c=n(c),u=u?t.toFloat(u)/100:null,0===s?null===u?u=0:u&&r.push([c,0]):s===o-1&&(null===u?u=1:1!==u&&(r.push([c,u]),u=1)),r.push([c,u]),null===u)i++;else if(i){const t=r[s-i-1][1],e=(u-t)/(i+1);for(let n=i;n>0;n--)r[s-n][1]=t+e*(i-n+1);i=0}}return r}function B(e,n){const r=t.findIndex(e.slice(1),(([,t])=>n<=t))+1;return[e[r-1][0],e[r][0],(n-e[r-1][1])/(e[r][1]-e[r-1][1])]}function V(t,e){const[n,r,o]=B(t,e);return n+Math.abs(n-r)*o*(n<r?1:-1)}const G=/^-?\d+(?:\.\d+)?(\S+)?/;function J(t,e){var n;for(const e of t){const t=null==(n=e.match)?void 0:n.call(e,G);if(t)return t[1]}return e}function K(e,n,r){const o=e.style[n],i=t.css(t.css(e,n,r),n);return e.style[n]=o,i}function Q(t,e){return t.reduce(((t,n)=>(t[n]=e,t)),{})}var X,Y={mixins:[P],props:{target:String,viewport:Number,easing:Number,start:String,end:String},data:{target:!1,viewport:1,easing:1,start:0,end:0},computed:{target:({target:e},n)=>Z(e&&t.query(e,n)||n),start({start:e}){return t.toPx(e,"height",this.target,!0)},end({end:e,viewport:n}){return t.toPx(e||(n=100*(1-n))&&`${n}vh+${n}%`,"height",this.target,!0)}},observe:[n(((e,n)=>t.observeViewportResize(n)),X,"resize"),function(e){return n(((e,n)=>({disconnect:t.on(r(e),"scroll",n,{passive:!0})})),e,"scroll")}({target:({target:t})=>t}),function(e){return n(t.observeResize,e,"resize")}({target:({$el:e,target:n})=>[e,n,t.scrollParent(n,!0)]})],update:{read({percent:e},n){if(n.has("scroll")||(e=!1),!t.isVisible(this.$el))return!1;if(!this.matchMedia)return;const r=e;return e=function(t,e){return e>=0?Math.pow(t,e+1):1-Math.pow(1-t,1-e)}(t.scrolledOver(this.target,this.start,this.end),this.easing),{percent:e,style:r!==e&&this.getCss(e)}},write({style:e}){this.matchMedia?e&&t.css(this.$el,e):this.reset()},events:["scroll","resize"]}};function Z(e){return e?"offsetTop"in e?e:Z(t.parent(e)):document.documentElement}return typeof window<"u"&&window.UniCore&&window.UniCore.component("parallax",Y),Y}));