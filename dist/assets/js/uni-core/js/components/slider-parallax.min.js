/*! UniCore 3.19.1 | https://www.unistudio.co | (c) 2023 - 2024 UniStudio | MIT License */!function(t,n){"object"==typeof exports&&typeof module<"u"?module.exports=n(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider_parallax",["uikit-util"],n):(t=typeof globalThis<"u"?globalThis:t||self).UniCoreSlider_parallax=n(t.UniCore.util)}(this,(function(t){"use strict";var n={props:{media:Boolean,mediaMax:Boolean},data:{media:!1,mediaMax:!1},connected(){const n=e(this.media,this.$el),i=e(this.mediaMax,this.$el,"max");if(this.matchMedia=!0,n||i){const e=n?i?n+" and "+i:n:i;this.mediaObj=window.matchMedia(e);const r=()=>{this.matchMedia=this.mediaObj.matches,t.trigger(this.$el,t.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=t.on(this.mediaObj,"change",(()=>{r(),this.$emit("resize")})),r()}},disconnected(){var t;null==(t=this.offMediaObj)||t.call(this)}};function e(n,e,i="min"){if(t.isString(n))if(t.startsWith(n,"@"))n=t.toFloat(t.css(e,`--uc-breakpoint-${n.substr(1)}`));else if(isNaN(n))return n;return n&&t.isNumeric(n)?`(${i}-width: ${n}px)`:""}const{isArray:i,from:r}=Array;function o(t){return"function"==typeof t}function s(t){return null!==t&&"object"==typeof t}function c(t){return u(t)>=1}function u(t){return!function(t){return s(t)&&t===t.window}(t)&&s(t)&&t.nodeType}function a(t){return"string"==typeof t}function l(t){return f(t)[0]}function f(t){return c(t)?[t]:Array.from(t||[]).filter(c)}function h(t){const n=Object.create(null);return(e,...i)=>n[e]||(n[e]=t(e,...i))}function d(t,n,e){var i;if(s(n))for(const e in n)d(t,e,n[e]);else{if(function(t){return void 0===t}(e))return null==(i=l(t))?void 0:i.getAttribute(n);for(const i of f(t))o(e)&&(e=e.call(i,d(i,n))),null===e?m(i,n):i.setAttribute(n,e)}}function m(t,n){f(t).forEach((t=>t.removeAttribute(n)))}function p(t){var n;return null==(n=l(t))?void 0:n.parentElement}function g(t,n){return f(t).some((t=>t.matches(n)))}function b(t,n){const e=(t=l(t))?r(t.children):[];return n?function(t,n){return f(t).filter((t=>g(t,n)))}(e,n):e}function $(t,n){return n?f(t).indexOf(l(n)):b(p(t)).indexOf(t)}function x(t,n){return f(function(t,n=document,e){if(!t||!a(t))return t;if(t=k(t),v(t)){const e=j(t);t="";for(let i of e){let r=n;if("!"===i[0]){const t=i.substr(1).trim().split(" ");if(r=p(n).closest(t[0]),i=t.slice(1).join(" ").trim(),!i.length&&1===e.length)return r}if("-"===i[0]){const t=i.substr(1).trim().split(" "),e=(r||n).previousElementSibling;r=g(e,i.substr(1))?e:null,i=t.slice(1).join(" ")}r&&(t+=`${t?",":""}${C(r)} ${i}`)}(function(t){return 9===u(t)})(n)||(n=n.ownerDocument)}try{return n[e](t)}catch{return null}}(t,l(n),"querySelectorAll"))}const y=/(^|[^\\],)\s*[!>+~-]/,v=h((t=>t.match(y))),w=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,k=h((t=>t.replace(w,"$1 *")));const M=/.*?[^\\](?![^(]*\))(?:,|$)/g,j=h((t=>t.match(M).map((t=>t.replace(/,$/,"").trim()))));function C(t){const n=[];for(;t.parentNode;){const e=d(t,"id");if(e){n.unshift(`#${O(e)}`);break}{let{tagName:e}=t;"HTML"!==e&&(e+=`:nth-child(${$(t)+1})`),n.unshift(e),t=t.parentNode}}return n.join(" > ")}function O(t){return a(t)?CSS.escape(t):""}const F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function S(t,n){return function(t){return a(t)&&function(t,n){var e;return null==(e=null==t?void 0:t.startsWith)?void 0:e.call(t,n)}(t.trim(),"<")}(t)?f(function(t){const n=F.exec(t);if(n)return document.createElement(n[1]);const e=document.createElement("template");return e.innerHTML=t.trim(),function(t){return t.length>1?t:t[0]}(e.content.childNodes)}(t)):x(t,n)}const N={x:A,y:A,rotate:A,scale:A,color:E,backgroundColor:E,borderColor:E,blur:I,hue:I,fopacity:I,grayscale:I,invert:I,saturate:I,sepia:I,opacity:function(t,n,e){return 1===e.length&&e.unshift(G(n,t,"")),e=L(e),(n,i)=>{n[t]=B(e,i)}},stroke:function(n,e,i){1===i.length&&i.unshift(0);const r=R(i),o=function(t){return Math.ceil(Math.max(0,...S("[stroke]",t).map((t=>{try{return t.getTotalLength()}catch{return 0}}))))}(e);return(i=L(i.reverse(),(n=>(n=t.toFloat(n),"%"===r?n*o/100:n)))).some((([t])=>t))?(t.css(e,"strokeDasharray",o),(t,n)=>{t.strokeDashoffset=B(i,n)}):t.noop},bgx:H,bgy:H},{keys:T}=Object;var W={mixins:[n],props:J(T(N),"list"),data:J(T(N),void 0),computed:{props(n,e){const i={};for(const e in n)e in N&&!t.isUndefined(n[e])&&(i[e]=n[e].slice());const r={};for(const t in i)r[t]=N[t](t,e,i[t],i);return r}},events:{load(){this.$emit()}},methods:{reset(){for(const n in this.getCss(0))t.css(this.$el,n,"")},getCss(n){const e={};for(const i in this.props)this.props[i](e,t.clamp(n));return e.willChange=Object.keys(e).map(t.propName).join(","),e}}};function A(n,e,i){let r,o=R(i)||{x:"px",y:"px",rotate:"deg"}[n]||"";return"x"===n||"y"===n?(n=`translate${t.ucfirst(n)}`,r=n=>t.toFloat(t.toFloat(n).toFixed("px"===o?0:6))):"scale"===n&&(o="",r=n=>{var i;return R([n])?t.toPx(n,"width",e,!0)/e["offset"+(null!=(i=n.endsWith)&&i.call(n,"vh")?"Height":"Width")]:t.toFloat(n)}),1===i.length&&i.unshift("scale"===n?1:0),i=L(i,r),(t,e)=>{t.transform=`${t.transform||""} ${n}(${B(i,e)}${o})`}}function E(n,e,i){return 1===i.length&&i.unshift(G(e,n,"")),i=L(i,(n=>function(n,e){return G(n,"color",e).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}(e,n))),(e,r)=>{const[o,s,c]=P(i,r),u=o.map(((n,e)=>(n+=c*(s[e]-n),3===e?t.toFloat(n):parseInt(n,10)))).join(",");e[n]=`rgba(${u})`}}function I(t,n,e){1===e.length&&e.unshift(0);const i=R(e)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,e=L(e),(n,r)=>{const o=B(e,r);n.filter=`${n.filter||""} ${t}(${o+i})`}}function H(n,e,i,r){1===i.length&&i.unshift(0);const o="bgy"===n?"height":"width";r[n]=L(i,(n=>t.toPx(n,o,e)));const s=["bgx","bgy"].filter((t=>t in r));if(2===s.length&&"bgx"===n)return t.noop;if("cover"===G(e,"backgroundSize",""))return function(n,e,i,r){const o=function(n){const e=t.css(n,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(q[e])return q[e];const i=new Image;return e&&(i.src=e,!i.naturalWidth)?(i.onload=()=>{q[e]=z(i),t.trigger(n,t.createEvent("load",!1))},z(i)):q[e]=z(i)}(e);if(!o.width)return t.noop;const s={width:e.offsetWidth,height:e.offsetHeight},c=["bgx","bgy"].filter((t=>t in r)),u={};for(const t of c){const n=r[t].map((([t])=>t)),e=Math.min(...n),i=Math.max(...n),o=n.indexOf(e)<n.indexOf(i),c=i-e;u[t]=(o?-c:0)-(o?e:i)+"px",s["bgy"===t?"height":"width"]+=c}const a=t.Dimensions.cover(o,s);for(const t of c){const n="bgy"===t?"height":"width",i=a[n]-s[n];u[t]=`max(${U(e,t)},-${i}px) + ${u[t]}`}const l=D(c,u,r);return(t,n)=>{l(t,n),t.backgroundSize=`${a.width}px ${a.height}px`,t.backgroundRepeat="no-repeat"}}(0,e,0,r);const c={};for(const t of s)c[t]=U(e,t);return D(s,c,r)}function U(t,n){return G(t,`background-position-${n.substr(-1)}`,"")}function D(t,n,e){return function(i,r){for(const o of t){const t=B(e[o],r);i[`background-position-${o.substr(-1)}`]=`calc(${n[o]} + ${t}px)`}}}const q={};function z(t){return{width:t.naturalWidth,height:t.naturalHeight}}function L(n,e=t.toFloat){const i=[],{length:r}=n;let o=0;for(let s=0;s<r;s++){let[c,u]=t.isString(n[s])?n[s].trim().split(/ (?![^(]*\))/):[n[s]];if(c=e(c),u=u?t.toFloat(u)/100:null,0===s?null===u?u=0:u&&i.push([c,0]):s===r-1&&(null===u?u=1:1!==u&&(i.push([c,u]),u=1)),i.push([c,u]),null===u)o++;else if(o){const t=i[s-o-1][1],n=(u-t)/(o+1);for(let e=o;e>0;e--)i[s-e][1]=t+n*(o-e+1);o=0}}return i}function P(n,e){const i=t.findIndex(n.slice(1),(([,t])=>e<=t))+1;return[n[i-1][0],n[i][0],(e-n[i-1][1])/(n[i][1]-n[i-1][1])]}function B(t,n){const[e,i,r]=P(t,n);return e+Math.abs(e-i)*r*(e<i?1:-1)}const _=/^-?\d+(?:\.\d+)?(\S+)?/;function R(t,n){var e;for(const n of t){const t=null==(e=n.match)?void 0:e.call(n,_);if(t)return t[1]}return n}function G(n,e,i){const r=n.style[e],o=t.css(t.css(n,e,i),e);return n.style[e]=r,o}function J(t,n){return t.reduce(((t,e)=>(t[e]=n,t)),{})}var K={mixins:[W],data:{selItem:"!li"},beforeConnect(){this.item=t.query(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler({type:n,detail:{percent:e,duration:i,timing:r,dir:o}}){t.fastdom.read((()=>{if(!this.matchMedia)return;const s=this.getCss(V(n,o,e)),c=this.getCss(Q(n)?.5:o>0?1:0);t.fastdom.write((()=>{t.css(this.$el,s),t.Transition.start(this.$el,c,i,r).catch(t.noop)}))}))}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){t.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler({type:n,detail:{percent:e,dir:i}}){t.fastdom.read((()=>{if(!this.matchMedia)return void this.reset();const r=this.getCss(V(n,i,e));t.fastdom.write((()=>t.css(this.$el,r)))}))}}]};function Q(n){return t.endsWith(n,"in")}function V(t,n,e){return e/=2,Q(t)^n<0?e:1-e}return typeof window<"u"&&window.UniCore&&window.UniCore.component("sliderParallax",K),K}));