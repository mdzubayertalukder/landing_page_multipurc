/*! UniCore 3.19.1 | https://www.unistudio.co | (c) 2023 - 2024 UniStudio | MIT License */!function(t,e){"object"==typeof exports&&typeof module<"u"?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitcountdown",["uikit-util"],e):(t=typeof globalThis<"u"?globalThis:t||self).UniCoreCountdown=e(t.UniCore.util)}(this,(function(t){"use strict";var e={connected(){t.addClass(this.$el,this.$options.id)}};const n=["days","hours","minutes","seconds"];var i=t.defineComponent({mixins:[e],props:{date:String,clsWrapper:String,role:String},data:{date:"",clsWrapper:".uc-countdown-%unit%",role:"timer"},connected(){t.attr(this.$el,"role",this.role),this.date=t.toFloat(Date.parse(this.$props.date)),this.end=!1,this.start()},disconnected(){this.stop()},events:{name:"visibilitychange",el:()=>document,handler(){document.hidden?this.stop():this.start()}},methods:{start(){this.stop(),this.update(),this.timer||(t.trigger(this.$el,"countdownstart"),this.timer=setInterval(this.update,1e3))},stop(){this.timer&&(clearInterval(this.timer),t.trigger(this.$el,"countdownstop"),this.timer=null)},update(){const e=function(t){const e=Math.max(0,t-Date.now())/1e3;return{total:e,seconds:e%60,minutes:e/60%60,hours:e/60/60%24,days:e/60/60/24}}(this.date);e.total||(this.stop(),this.end||(t.trigger(this.$el,"countdownend"),this.end=!0));for(const i of n){const n=t.$(this.clsWrapper.replace("%unit%",i),this.$el);if(!n)continue;let o=String(Math.trunc(e[i]));o=o.length<2?`0${o}`:o,n.textContent!==o&&(o=o.split(""),o.length!==n.children.length&&t.html(n,o.map((()=>"<span></span>")).join("")),o.forEach(((t,e)=>n.children[e].textContent=t)))}}}});return typeof window<"u"&&window.UniCore&&window.UniCore.component("countdown",i),i}));