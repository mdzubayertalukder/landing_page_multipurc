/*! UniCore 3.19.1 | https://www.unistudio.co | (c) 2023 - 2024 UniStudio | MIT License */(function(s,b){typeof exports=="object"&&typeof module<"u"?module.exports=b(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitparallax",["uikit-util"],b):(s=typeof globalThis<"u"?globalThis:s||self,s.UniCoreParallax=b(s.UniCore.util))})(this,function(s){"use strict";function b(n,t="update"){n._connected&&n._updates.length&&(n._queued||(n._queued=new Set,s.fastdom.read(()=>{n._connected&&Q(n,n._queued),delete n._queued})),n._queued.add(t.type||t))}function Q(n,t){for(const{read:e,write:o,events:r=[]}of n._updates){if(!t.has("update")&&!r.some(c=>t.has(c)))continue;let i;e&&(i=e.call(n,n._data,t),i&&s.isPlainObject(i)&&s.assign(n._data,i)),o&&i!==!1&&s.fastdom.write(()=>{n._connected&&o.call(n,n._data,t)})}}function X(n){return F(s.observeResize,n,"resize")}function Y(n){return F((t,e)=>s.observeViewportResize(e),n,"resize")}function Z(n){return F((t,e)=>({disconnect:s.on(k(t),"scroll",e,{passive:!0})}),n,"scroll")}function F(n,t,e){return{observe:n,handler(){b(this,e)},...t}}function k(n){return s.toNodes(n).map(t=>{const{ownerDocument:e}=t,o=s.scrollParent(t,!0);return o===e.scrollingElement?e:o})}var U={props:{media:Boolean,mediaMax:Boolean},data:{media:!1,mediaMax:!1},connected(){const n=E(this.media,this.$el),t=E(this.mediaMax,this.$el,"max");if(this.matchMedia=!0,n||t){const e=n?t?n+" and "+t:n:t;this.mediaObj=window.matchMedia(e);const o=()=>{this.matchMedia=this.mediaObj.matches,s.trigger(this.$el,s.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=s.on(this.mediaObj,"change",()=>{o(),this.$emit("resize")}),o()}},disconnected(){var n;(n=this.offMediaObj)==null||n.call(this)}};function E(n,t,e="min"){if(s.isString(n)){if(s.startsWith(n,"@"))n=s.toFloat(s.css(t,`--uc-breakpoint-${n.substr(1)}`));else if(isNaN(n))return n}return n&&s.isNumeric(n)?`(${e}-width: ${n}px)`:""}function nn(n,t){var e;return(e=n==null?void 0:n.startsWith)==null?void 0:e.call(n,t)}const{isArray:An,from:tn}=Array;function en(n){return typeof n=="function"}function _(n){return n!==null&&typeof n=="object"}function rn(n){return _(n)&&n===n.window}function on(n){return q(n)===9}function I(n){return q(n)>=1}function q(n){return!rn(n)&&_(n)&&n.nodeType}function O(n){return typeof n=="string"}function sn(n){return n===void 0}function x(n){return d(n)[0]}function d(n){return I(n)?[n]:Array.from(n||[]).filter(I)}function P(n){const t=Object.create(null);return(e,...o)=>t[e]||(t[e]=n(e,...o))}function j(n,t,e){var o;if(_(t)){for(const r in t)j(n,r,t[r]);return}if(sn(e))return(o=x(n))==null?void 0:o.getAttribute(t);for(const r of d(n))en(e)&&(e=e.call(r,j(r,t))),e===null?cn(r,t):r.setAttribute(t,e)}function cn(n,t){d(n).forEach(e=>e.removeAttribute(t))}function A(n){var t;return(t=x(n))==null?void 0:t.parentElement}function an(n,t){return d(n).filter(e=>T(e,t))}function T(n,t){return d(n).some(e=>e.matches(t))}function fn(n,t){n=x(n);const e=n?tn(n.children):[];return t?an(e,t):e}function un(n,t){return t?d(n).indexOf(x(t)):fn(A(n)).indexOf(n)}function dn(n,t){return d(bn(n,x(t),"querySelectorAll"))}const hn=/(^|[^\\],)\s*[!>+~-]/,ln=P(n=>n.match(hn)),gn=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,mn=P(n=>n.replace(gn,"$1 *"));function bn(n,t=document,e){if(!n||!O(n))return n;if(n=mn(n),ln(n)){const o=$n(n);n="";for(let r of o){let i=t;if(r[0]==="!"){const c=r.substr(1).trim().split(" ");if(i=A(t).closest(c[0]),r=c.slice(1).join(" ").trim(),!r.length&&o.length===1)return i}if(r[0]==="-"){const c=r.substr(1).trim().split(" "),a=(i||t).previousElementSibling;i=T(a,r.substr(1))?a:null,r=c.slice(1).join(" ")}i&&(n+=`${n?",":""}${pn(i)} ${r}`)}on(t)||(t=t.ownerDocument)}try{return t[e](n)}catch{return null}}const xn=/.*?[^\\](?![^(]*\))(?:,|$)/g,$n=P(n=>n.match(xn).map(t=>t.replace(/,$/,"").trim()));function pn(n){const t=[];for(;n.parentNode;){const e=j(n,"id");if(e){t.unshift(`#${wn(e)}`);break}else{let{tagName:o}=n;o!=="HTML"&&(o+=`:nth-child(${un(n)+1})`),t.unshift(o),n=n.parentNode}}return t.join(" > ")}function wn(n){return O(n)?CSS.escape(n):""}const vn=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function yn(n){const t=vn.exec(n);if(t)return document.createElement(t[1]);const e=document.createElement("template");return e.innerHTML=n.trim(),Mn(e.content.childNodes)}function Mn(n){return n.length>1?n:n[0]}function Sn(n,t){return Fn(n)?d(yn(n)):dn(n,t)}function Fn(n){return O(n)&&nn(n.trim(),"<")}function _n(n){return Math.ceil(Math.max(0,...Sn("[stroke]",n).map(t=>{try{return t.getTotalLength()}catch{return 0}})))}const v={x:y,y,rotate:y,scale:y,color:N,backgroundColor:N,borderColor:N,blur:g,hue:g,fopacity:g,grayscale:g,invert:g,saturate:g,sepia:g,opacity:jn,stroke:Nn,bgx:D,bgy:D},{keys:W}=Object;var On={mixins:[U],props:L(W(v),"list"),data:L(W(v),void 0),computed:{props(n,t){const e={};for(const r in n)r in v&&!s.isUndefined(n[r])&&(e[r]=n[r].slice());const o={};for(const r in e)o[r]=v[r](r,t,e[r],e);return o}},events:{load(){this.$emit()}},methods:{reset(){for(const n in this.getCss(0))s.css(this.$el,n,"")},getCss(n){const t={};for(const e in this.props)this.props[e](t,s.clamp(n));return t.willChange=Object.keys(t).map(s.propName).join(","),t}}};function y(n,t,e){let o=S(e)||{x:"px",y:"px",rotate:"deg"}[n]||"",r;return n==="x"||n==="y"?(n=`translate${s.ucfirst(n)}`,r=i=>s.toFloat(s.toFloat(i).toFixed(o==="px"?0:6))):n==="scale"&&(o="",r=i=>{var c;return S([i])?s.toPx(i,"width",t,!0)/t[`offset${(c=i.endsWith)!=null&&c.call(i,"vh")?"Height":"Width"}`]:s.toFloat(i)}),e.length===1&&e.unshift(n==="scale"?1:0),e=m(e,r),(i,c)=>{i.transform=`${i.transform||""} ${n}(${$(e,c)}${o})`}}function N(n,t,e){return e.length===1&&e.unshift(p(t,n,"")),e=m(e,o=>Pn(t,o)),(o,r)=>{const[i,c,a]=B(e,r),h=i.map((l,f)=>(l+=a*(c[f]-l),f===3?s.toFloat(l):parseInt(l,10))).join(",");o[n]=`rgba(${h})`}}function Pn(n,t){return p(n,"color",t).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(s.toFloat)}function g(n,t,e){e.length===1&&e.unshift(0);const o=S(e)||{blur:"px",hue:"deg"}[n]||"%";return n={fopacity:"opacity",hue:"hue-rotate"}[n]||n,e=m(e),(r,i)=>{const c=$(e,i);r.filter=`${r.filter||""} ${n}(${c+o})`}}function jn(n,t,e){return e.length===1&&e.unshift(p(t,n,"")),e=m(e),(o,r)=>{o[n]=$(e,r)}}function Nn(n,t,e){e.length===1&&e.unshift(0);const o=S(e),r=_n(t);return e=m(e.reverse(),i=>(i=s.toFloat(i),o==="%"?i*r/100:i)),e.some(([i])=>i)?(s.css(t,"strokeDasharray",r),(i,c)=>{i.strokeDashoffset=$(e,c)}):s.noop}function D(n,t,e,o){e.length===1&&e.unshift(0);const r=n==="bgy"?"height":"width";o[n]=m(e,a=>s.toPx(a,r,t));const i=["bgx","bgy"].filter(a=>a in o);if(i.length===2&&n==="bgx")return s.noop;if(p(t,"backgroundSize","")==="cover")return zn(n,t,e,o);const c={};for(const a of i)c[a]=R(t,a);return H(i,c,o)}function zn(n,t,e,o){const r=Cn(t);if(!r.width)return s.noop;const i={width:t.offsetWidth,height:t.offsetHeight},c=["bgx","bgy"].filter(f=>f in o),a={};for(const f of c){const u=o[f].map(([qn])=>qn),w=Math.min(...u),C=Math.max(...u),J=u.indexOf(w)<u.indexOf(C),K=C-w;a[f]=`${(J?-K:0)-(J?w:C)}px`,i[f==="bgy"?"height":"width"]+=K}const h=s.Dimensions.cover(r,i);for(const f of c){const u=f==="bgy"?"height":"width",w=h[u]-i[u];a[f]=`max(${R(t,f)},-${w}px) + ${a[f]}`}const l=H(c,a,o);return(f,u)=>{l(f,u),f.backgroundSize=`${h.width}px ${h.height}px`,f.backgroundRepeat="no-repeat"}}function R(n,t){return p(n,`background-position-${t.substr(-1)}`,"")}function H(n,t,e){return function(o,r){for(const i of n){const c=$(e[i],r);o[`background-position-${i.substr(-1)}`]=`calc(${t[i]} + ${c}px)`}}}const M={};function Cn(n){const t=s.css(n,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(M[t])return M[t];const e=new Image;return t&&(e.src=t,!e.naturalWidth)?(e.onload=()=>{M[t]=z(e),s.trigger(n,s.createEvent("load",!1))},z(e)):M[t]=z(e)}function z(n){return{width:n.naturalWidth,height:n.naturalHeight}}function m(n,t=s.toFloat){const e=[],{length:o}=n;let r=0;for(let i=0;i<o;i++){let[c,a]=s.isString(n[i])?n[i].trim().split(/ (?![^(]*\))/):[n[i]];if(c=t(c),a=a?s.toFloat(a)/100:null,i===0?a===null?a=0:a&&e.push([c,0]):i===o-1&&(a===null?a=1:a!==1&&(e.push([c,a]),a=1)),e.push([c,a]),a===null)r++;else if(r){const h=e[i-r-1][1],l=(a-h)/(r+1);for(let f=r;f>0;f--)e[i-f][1]=h+l*(r-f+1);r=0}}return e}function B(n,t){const e=s.findIndex(n.slice(1),([,o])=>t<=o)+1;return[n[e-1][0],n[e][0],(t-n[e-1][1])/(n[e][1]-n[e-1][1])]}function $(n,t){const[e,o,r]=B(n,t);return e+Math.abs(e-o)*r*(e<o?1:-1)}const En=/^-?\d+(?:\.\d+)?(\S+)?/;function S(n,t){var e;for(const o of n){const r=(e=o.match)==null?void 0:e.call(o,En);if(r)return r[1]}return t}function p(n,t,e){const o=n.style[t],r=s.css(s.css(n,t,e),t);return n.style[t]=o,r}function L(n,t){return n.reduce((e,o)=>(e[o]=t,e),{})}function In(n,t){return t>=0?Math.pow(n,t+1):1-Math.pow(1-n,1-t)}var V={mixins:[On],props:{target:String,viewport:Number,easing:Number,start:String,end:String},data:{target:!1,viewport:1,easing:1,start:0,end:0},computed:{target:({target:n},t)=>G(n&&s.query(n,t)||t),start({start:n}){return s.toPx(n,"height",this.target,!0)},end({end:n,viewport:t}){return s.toPx(n||(t=(1-t)*100)&&`${t}vh+${t}%`,"height",this.target,!0)}},observe:[Y(),Z({target:({target:n})=>n}),X({target:({$el:n,target:t})=>[n,t,s.scrollParent(t,!0)]})],update:{read({percent:n},t){if(t.has("scroll")||(n=!1),!s.isVisible(this.$el))return!1;if(!this.matchMedia)return;const e=n;return n=In(s.scrolledOver(this.target,this.start,this.end),this.easing),{percent:n,style:e===n?!1:this.getCss(n)}},write({style:n}){if(!this.matchMedia){this.reset();return}n&&s.css(this.$el,n)},events:["scroll","resize"]}};function G(n){return n?"offsetTop"in n?n:G(s.parent(n)):document.documentElement}return typeof window<"u"&&window.UniCore&&window.UniCore.component("parallax",V),V});
