/*! UniCore 3.19.1 | https://www.unistudio.co | (c) 2023 - 2024 UniStudio | MIT License */(function(s,$){typeof exports=="object"&&typeof module<"u"?module.exports=$(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitslider_parallax",["uikit-util"],$):(s=typeof globalThis<"u"?globalThis:s||self,s.UniCoreSlider_parallax=$(s.UniCore.util))})(this,function(s){"use strict";var $={props:{media:Boolean,mediaMax:Boolean},data:{media:!1,mediaMax:!1},connected(){const n=T(this.media,this.$el),e=T(this.mediaMax,this.$el,"max");if(this.matchMedia=!0,n||e){const t=n?e?n+" and "+e:n:e;this.mediaObj=window.matchMedia(t);const o=()=>{this.matchMedia=this.mediaObj.matches,s.trigger(this.$el,s.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=s.on(this.mediaObj,"change",()=>{o(),this.$emit("resize")}),o()}},disconnected(){var n;(n=this.offMediaObj)==null||n.call(this)}};function T(n,e,t="min"){if(s.isString(n)){if(s.startsWith(n,"@"))n=s.toFloat(s.css(e,`--uc-breakpoint-${n.substr(1)}`));else if(isNaN(n))return n}return n&&s.isNumeric(n)?`(${t}-width: ${n}px)`:""}function Q(n,e){var t;return(t=n==null?void 0:n.startsWith)==null?void 0:t.call(n,e)}const{isArray:In,from:X}=Array;function Y(n){return typeof n=="function"}function S(n){return n!==null&&typeof n=="object"}function Z(n){return S(n)&&n===n.window}function k(n){return W(n)===9}function A(n){return W(n)>=1}function W(n){return!Z(n)&&S(n)&&n.nodeType}function C(n){return typeof n=="string"}function U(n){return n===void 0}function b(n){return d(n)[0]}function d(n){return A(n)?[n]:Array.from(n||[]).filter(A)}function O(n){const e=Object.create(null);return(t,...o)=>e[t]||(e[t]=n(t,...o))}function j(n,e,t){var o;if(S(e)){for(const r in e)j(n,r,e[r]);return}if(U(t))return(o=b(n))==null?void 0:o.getAttribute(e);for(const r of d(n))Y(t)&&(t=t.call(r,j(r,e))),t===null?nn(r,e):r.setAttribute(e,t)}function nn(n,e){d(n).forEach(t=>t.removeAttribute(e))}function _(n){var e;return(e=b(n))==null?void 0:e.parentElement}function tn(n,e){return d(n).filter(t=>E(t,e))}function E(n,e){return d(n).some(t=>t.matches(e))}function en(n,e){n=b(n);const t=n?X(n.children):[];return e?tn(t,e):t}function rn(n,e){return e?d(n).indexOf(b(e)):en(_(n)).indexOf(n)}function on(n,e){return d(un(n,b(e),"querySelectorAll"))}const sn=/(^|[^\\],)\s*[!>+~-]/,cn=O(n=>n.match(sn)),an=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,fn=O(n=>n.replace(an,"$1 *"));function un(n,e=document,t){if(!n||!C(n))return n;if(n=fn(n),cn(n)){const o=hn(n);n="";for(let r of o){let i=e;if(r[0]==="!"){const c=r.substr(1).trim().split(" ");if(i=_(e).closest(c[0]),r=c.slice(1).join(" ").trim(),!r.length&&o.length===1)return i}if(r[0]==="-"){const c=r.substr(1).trim().split(" "),a=(i||e).previousElementSibling;i=E(a,r.substr(1))?a:null,r=c.slice(1).join(" ")}i&&(n+=`${n?",":""}${ln(i)} ${r}`)}k(e)||(e=e.ownerDocument)}try{return e[t](n)}catch{return null}}const dn=/.*?[^\\](?![^(]*\))(?:,|$)/g,hn=O(n=>n.match(dn).map(e=>e.replace(/,$/,"").trim()));function ln(n){const e=[];for(;n.parentNode;){const t=j(n,"id");if(t){e.unshift(`#${mn(t)}`);break}else{let{tagName:o}=n;o!=="HTML"&&(o+=`:nth-child(${rn(n)+1})`),e.unshift(o),n=n.parentNode}}return e.join(" > ")}function mn(n){return C(n)?CSS.escape(n):""}const gn=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function $n(n){const e=gn.exec(n);if(e)return document.createElement(e[1]);const t=document.createElement("template");return t.innerHTML=n.trim(),bn(t.content.childNodes)}function bn(n){return n.length>1?n:n[0]}function xn(n,e){return yn(n)?d($n(n)):on(n,e)}function yn(n){return C(n)&&Q(n.trim(),"<")}function pn(n){return Math.ceil(Math.max(0,...xn("[stroke]",n).map(e=>{try{return e.getTotalLength()}catch{return 0}})))}const w={x:v,y:v,rotate:v,scale:v,color:I,backgroundColor:I,borderColor:I,blur:m,hue:m,fopacity:m,grayscale:m,invert:m,saturate:m,sepia:m,opacity:Fn,stroke:Mn,bgx:z,bgy:z},{keys:D}=Object;var wn={mixins:[$],props:B(D(w),"list"),data:B(D(w),void 0),computed:{props(n,e){const t={};for(const r in n)r in w&&!s.isUndefined(n[r])&&(t[r]=n[r].slice());const o={};for(const r in t)o[r]=w[r](r,e,t[r],t);return o}},events:{load(){this.$emit()}},methods:{reset(){for(const n in this.getCss(0))s.css(this.$el,n,"")},getCss(n){const e={};for(const t in this.props)this.props[t](e,s.clamp(n));return e.willChange=Object.keys(e).map(s.propName).join(","),e}}};function v(n,e,t){let o=M(t)||{x:"px",y:"px",rotate:"deg"}[n]||"",r;return n==="x"||n==="y"?(n=`translate${s.ucfirst(n)}`,r=i=>s.toFloat(s.toFloat(i).toFixed(o==="px"?0:6))):n==="scale"&&(o="",r=i=>{var c;return M([i])?s.toPx(i,"width",e,!0)/e[`offset${(c=i.endsWith)!=null&&c.call(i,"vh")?"Height":"Width"}`]:s.toFloat(i)}),t.length===1&&t.unshift(n==="scale"?1:0),t=g(t,r),(i,c)=>{i.transform=`${i.transform||""} ${n}(${x(t,c)}${o})`}}function I(n,e,t){return t.length===1&&t.unshift(y(e,n,"")),t=g(t,o=>vn(e,o)),(o,r)=>{const[i,c,a]=q(t,r),h=i.map((l,f)=>(l+=a*(c[f]-l),f===3?s.toFloat(l):parseInt(l,10))).join(",");o[n]=`rgba(${h})`}}function vn(n,e){return y(n,"color",e).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(s.toFloat)}function m(n,e,t){t.length===1&&t.unshift(0);const o=M(t)||{blur:"px",hue:"deg"}[n]||"%";return n={fopacity:"opacity",hue:"hue-rotate"}[n]||n,t=g(t),(r,i)=>{const c=x(t,i);r.filter=`${r.filter||""} ${n}(${c+o})`}}function Fn(n,e,t){return t.length===1&&t.unshift(y(e,n,"")),t=g(t),(o,r)=>{o[n]=x(t,r)}}function Mn(n,e,t){t.length===1&&t.unshift(0);const o=M(t),r=pn(e);return t=g(t.reverse(),i=>(i=s.toFloat(i),o==="%"?i*r/100:i)),t.some(([i])=>i)?(s.css(e,"strokeDasharray",r),(i,c)=>{i.strokeDashoffset=x(t,c)}):s.noop}function z(n,e,t,o){t.length===1&&t.unshift(0);const r=n==="bgy"?"height":"width";o[n]=g(t,a=>s.toPx(a,r,e));const i=["bgx","bgy"].filter(a=>a in o);if(i.length===2&&n==="bgx")return s.noop;if(y(e,"backgroundSize","")==="cover")return Sn(n,e,t,o);const c={};for(const a of i)c[a]=H(e,a);return R(i,c,o)}function Sn(n,e,t,o){const r=Cn(e);if(!r.width)return s.noop;const i={width:e.offsetWidth,height:e.offsetHeight},c=["bgx","bgy"].filter(f=>f in o),a={};for(const f of c){const u=o[f].map(([jn])=>jn),p=Math.min(...u),N=Math.max(...u),J=u.indexOf(p)<u.indexOf(N),K=N-p;a[f]=`${(J?-K:0)-(J?p:N)}px`,i[f==="bgy"?"height":"width"]+=K}const h=s.Dimensions.cover(r,i);for(const f of c){const u=f==="bgy"?"height":"width",p=h[u]-i[u];a[f]=`max(${H(e,f)},-${p}px) + ${a[f]}`}const l=R(c,a,o);return(f,u)=>{l(f,u),f.backgroundSize=`${h.width}px ${h.height}px`,f.backgroundRepeat="no-repeat"}}function H(n,e){return y(n,`background-position-${e.substr(-1)}`,"")}function R(n,e,t){return function(o,r){for(const i of n){const c=x(t[i],r);o[`background-position-${i.substr(-1)}`]=`calc(${e[i]} + ${c}px)`}}}const F={};function Cn(n){const e=s.css(n,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(F[e])return F[e];const t=new Image;return e&&(t.src=e,!t.naturalWidth)?(t.onload=()=>{F[e]=P(t),s.trigger(n,s.createEvent("load",!1))},P(t)):F[e]=P(t)}function P(n){return{width:n.naturalWidth,height:n.naturalHeight}}function g(n,e=s.toFloat){const t=[],{length:o}=n;let r=0;for(let i=0;i<o;i++){let[c,a]=s.isString(n[i])?n[i].trim().split(/ (?![^(]*\))/):[n[i]];if(c=e(c),a=a?s.toFloat(a)/100:null,i===0?a===null?a=0:a&&t.push([c,0]):i===o-1&&(a===null?a=1:a!==1&&(t.push([c,a]),a=1)),t.push([c,a]),a===null)r++;else if(r){const h=t[i-r-1][1],l=(a-h)/(r+1);for(let f=r;f>0;f--)t[i-f][1]=h+l*(r-f+1);r=0}}return t}function q(n,e){const t=s.findIndex(n.slice(1),([,o])=>e<=o)+1;return[n[t-1][0],n[t][0],(e-n[t-1][1])/(n[t][1]-n[t-1][1])]}function x(n,e){const[t,o,r]=q(n,e);return t+Math.abs(t-o)*r*(t<o?1:-1)}const On=/^-?\d+(?:\.\d+)?(\S+)?/;function M(n,e){var t;for(const o of n){const r=(t=o.match)==null?void 0:t.call(o,On);if(r)return r[1]}return e}function y(n,e,t){const o=n.style[e],r=s.css(s.css(n,e,t),e);return n.style[e]=o,r}function B(n,e){return n.reduce((t,o)=>(t[o]=e,t),{})}var L={mixins:[wn],data:{selItem:"!li"},beforeConnect(){this.item=s.query(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler({type:n,detail:{percent:e,duration:t,timing:o,dir:r}}){s.fastdom.read(()=>{if(!this.matchMedia)return;const i=this.getCss(G(n,r,e)),c=this.getCss(V(n)?.5:r>0?1:0);s.fastdom.write(()=>{s.css(this.$el,i),s.Transition.start(this.$el,c,t,o).catch(s.noop)})})}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){s.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler({type:n,detail:{percent:e,dir:t}}){s.fastdom.read(()=>{if(!this.matchMedia){this.reset();return}const o=this.getCss(G(n,t,e));s.fastdom.write(()=>s.css(this.$el,o))})}}]};function V(n){return s.endsWith(n,"in")}function G(n,e,t){return t/=2,V(n)^e<0?t:1-t}return typeof window<"u"&&window.UniCore&&window.UniCore.component("sliderParallax",L),L});
